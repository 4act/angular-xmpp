<!DOCTYPE html>
<html ng-app="MyApp">
<head>
<meta charset="utf-8"/>
<script src="scripts/primus.js" type="text/javascript"></script>
<script data-require="angular.js@*" data-semver="1.3.7" src="bower_components/angular/angular.min.js"></script>
<!--
<script data-require="underscore.js@*" data-semver="1.6.0" src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.6.0/underscore-min.js"></script>
-->

<!-- jquery for bootstrap dropdown -->

<script src="bower_components/jquery/dist/jquery.min.js"></script>


<!-- Bootstap -->
<link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
<script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>

<script src="bower_components/angular-strap/dist/angular-strap.min.js"></script>
<script src="bower_components/angular-strap/dist/angular-strap.tpl.min.js"></script>
<script src="bower_components/angular-animate/angular-animate.js" ></script>
<script src="bower_components/angular-sanitize/angular-sanitize.min.js" ></script>
<!-- from https://cdn.rawgit.com/Luegg/angularjs-scroll-glue/v2.0.2/src/scrollglue.js -->
<script src="scripts/scrollglue.js"></script>

<!-- markdown -->
<script src="bower_components/angular-sanitize/angular-sanitize.js"></script>
<script src="bower_components/showdown/src/showdown.js"></script>
<script src="bower_components/angular-markdown-directive/markdown.js"></script>

<!-- map -->
<script src="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.js"></script>
<script src="bower_components/angular-leaflet-directive/dist/angular-leaflet-directive.min.js"></script>
<link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.1/leaflet.css">

<!-- if you know grant, please help -->
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="css/buddycloud.css">
<link rel="stylesheet" href="modules/xmppmuc/muc.css">
<link rel="stylesheet" href="modules/xmppform/xmppform.css">


<script src="modules/buddycloud/buddycloud.js"></script>
<script src="modules/xmpplike/xmpplike.js"></script>
<script src="modules/xmppcore/xmppcore.js"></script>
<script src="modules/roster/roster.js"></script>
<script src="modules/minichat/minichat.js"></script>
<script src="modules/xmpplogin/xmpplogin.js"></script>
<script src="modules/xmppmuc/xmppmuc.js"></script>
<script src="modules/xmppform/xmppform.js"></script>
<script src="modules/xmppmap/xmppmap.js"></script>
<script src="js/script.js"></script>
</head>
<body ng-controller="pagecontroller">


<div ng-include="'partials/navbar.html'"></div>



<!-- xmpp login -->
<div ng-show="!online">
<br/>
<br/>
<br/>
<br/>
connecting ...
</div>
<div ng-show="online">
<xmpplogin></xmpplogin>
</div>


<div ng-show="connected">


<div bs-active-pane="tabs.activeTab" bs-tabs id="tabs">
  <div ng-repeat="tab in tabs" title="{{ tab.title }}"  bs-pane></div>
</div>




<div ng-show="tabs.activeTab==0">
<!-- Left side, Avatar of node, list of nodes -->
<div class="leftcol">

<img  ng-if="selectednode.name" ng-src="icons/avatars/{{selectednode.name}}.png" style="width:140px;margin:5px;" />
<div style="font-size:7px">{{selectednode.node}}</div>
<h4>Buddycloud nodes</h4>
<div ng-repeat="node in data.nodes" ng-click="open(node)" class="menu" ng-class="{'selected':selectednode.node==node.node}">
{{node.name}}
</div>
</div>


<!-- buddycloud timeline -->
<div id="buddycloud" >
<buddycloud ng-if="selectednode.node"  node="{{selectednode.node}}" changenode="open(node)" jid="jid"></buddycloud>
</div>
</div>


<div id="muc" ng-show="connected && tabs.activeTab==1">
<xmppmuc node="testing2@channels.buddycloud.com"></xmppmuc>
</div>


<div id="develop" ng-show="connected && tabs.activeTab==2">
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<pre>
<div ng-repeat="item in searchresult.data.items" ng-click="open('/user/'+item.jid+'/posts')">

{{item|json}}
</div>
</pre>
 
</div>


<div id="map" ng-if="connected && tabs.activeTab==3">
<xmppmap></xmppmap>
</div>


<!-- roster - the online users und friends -->
<div>
<xmpproster></xmpproster>
</div>

<!-- chat at the bottom -->
<xmppminichat></xmppminichat>

</div>


</body>

</html>
